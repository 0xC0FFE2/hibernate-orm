/*
 * Hibernate, Relational Persistence for Idiomatic Java
 *
 * License: GNU Lesser General Public License (LGPL), version 2.1 or later.
 * See the lgpl.txt file in the root directory or <http://www.gnu.org/licenses/lgpl-2.1.html>.
 */

description = 'Annotation Processor to generate JPA 3 static metamodel classes'

evaluationDependsOn( ':hibernate-jpamodelgen' )

apply from: rootProject.file( 'gradle/published-jakarta-java-module.gradle' )

configurations {
	jakartaeeTransformJars
}

dependencies {
	// JAXB
	implementation( libraries.jakarta_jaxb_api )
	implementation( libraries.jakarta_jaxb_runtime )

	jakartaeeTransformJars 'biz.aQute.bnd:biz.aQute.bnd.transform:5.1.1',
			'commons-cli:commons-cli:1.4',
			'org.slf4j:slf4j-simple:1.7.30',
			'org.slf4j:slf4j-api:1.7.26',
			'org.eclipse.transformer:org.eclipse.transformer:0.2.0',
			'org.eclipse.transformer:org.eclipse.transformer.cli:0.2.0'
	testImplementation fileTree(dir: 'libs', include: '*.jar')
}


// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
// main jar

//task jakartafyJar( type: JakartaJarTransformation ) {
//	dependsOn project(':hibernate-jpamodelgen').tasks.jar
//	sourceJar = project(':hibernate-jpamodelgen').tasks.jar.archiveFile
//	targetJar = tasks.jar.archiveFile
//}
//
//tasks.jar {
//	enabled false
//	dependsOn tasks.jakartafyJar
//}


// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
// javadoc jar

//tasks.javadocJar {
//	enabled false
//}
//
//task jakartafyJavadocJar( type: JakartaJarTransformation ) {
//	sourceJar = project(':hibernate-core').tasks.javadocJar.archiveFile
//	targetJar = tasks.javadocJar.archiveFile
//}
//
//tasks.javadocJar.dependsOn project(':hibernate-core').tasks.javadocJar
//tasks.javadocJar.finalizedBy tasks.jakartafyJavadocJar
//tasks.jakartafyJavadocJar.dependsOn tasks.javadocJar
//tasks.jakartafyJavadocJar.mustRunAfter tasks.javadocJar
//
//

// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
// sources jar

//tasks.sourcesJar {
//	enabled false
//}
//
//task jakartafySourcesJar( type: JakartaJarTransformation ) {
//	sourceJar = project(':hibernate-core').tasks.sourcesJar.archiveFile
//	targetJar = tasks.javadocJar.archiveFile
//}
//
//tasks.sourcesJar.dependsOn project(':hibernate-core').tasks.sourcesJar
//tasks.sourcesJar.finalizedBy tasks.jakartafySourcesJar
//tasks.jakartafySourcesJar.dependsOn tasks.sourcesJar
//tasks.jakartafySourcesJar.mustRunAfter tasks.sourcesJar
